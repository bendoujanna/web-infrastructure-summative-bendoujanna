<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>DormMate - Task Manager</title>
        <link rel="stylesheet" href="styles.css" />
    </head>

    <body>
        <header class="navbar">
            <div class="navbar-left">
                <h1>DormMate</h1>
            </div>

            <nav class="navbar-center">
                <a href="#" class="nav-link active" data-target="dashboard-section">Dashboard</a>
                <a href="#" class="nav-link" data-target="add-task-section">Add task</a>
                <a href="#" class="nav-link" data-target="roommates-section">Roommates</a>
                <a href="#" class="nav-link" data-target="map-section">Map</a>
            </nav>
        </header>

        <main>
            <section id="dashboard-section" class="active-section">
                
                <section class="stats-cards">
                    <div class="card">
                        <div class="card-content">
                            Upcoming tasks
                            <span id="stat-upcoming">0</span>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-content">
                            Overdue tasks
                            <span id="stat-overdue">0</span>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-content">
                            Completed this week
                            <span id="stat-completed">0</span>
                        </div>
                    </div>
                </section>

                <section class="filters">
                    <div class="search-bar">
                        <input id="search-bar" type="text" placeholder="Search tasks..." />
                    </div>
                    
                    <div class="filter-row">
                        <div class="filter">
                            <label>Filter by roommate:</label>
                            <select id="roommate-filter">
                                <option value="all">All roommates</option>
                                </select>
                        </div>

                        <div class="filter">
                            <label>Filter by priority:</label>
                            <select id="filter-priorities">
                                <option value="all">All priorities</option>
                                <option value="Low">Low</option>
                                <option value="Medium">Medium</option>
                                <option value="High">High</option>
                            </select>  
                        </div>  
                        
                        <div class="filter">
                            <label>Filter by status:</label>
                            <div class="status-buttons">
                                <button class="active" id="status-all">All</button>
                                <button id="status-pending">Pending</button>
                                <button id="status-done">Done</button>
                            </div>
                        </div>

                        <div class="sort-row">
                            <label class="sort-text">Sort by priority:</label>
                            <select id="sort-priority">
                                <option value="low-high">Low to high</option>
                                <option value="high-low">High to low</option>
                            </select>

                            <label class="sort-text">Sort by due date:</label>
                            <select id="sort-due-date">
                                <option value="near-far">New-Old</option>
                                <option value="far-near">Old-New</option>
                            </select>
                        </div>
                    </div>
                </section>

                <section class="task-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Status</th>
                                <th>Task title</th>
                                <th>Location</th> <th>Assigned to</th>
                                <th>Priority</th>
                                <th>Due date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="task-table-body">
                            </tbody>
                    </table>
                </section>
            </section>


            <section id="add-task-section" class="hidden-section">
                <section class="add-task">
                    <h2>Add a New Task</h2>
                    <form id="add-task-form">
                        
                        <div class="form-group">
                            <label for="task-title">Task Title:</label>
                            <input type="text" id="task-title" name="title" placeholder="e.g: Clean the fridge" required />
                        </div>

                        <div class="form-group">
                            <label for="task-desc">Description:</label>
                            <textarea id="task-desc" name="description" placeholder="Details..." required></textarea>
                        </div>

                        <div class="form-group">
                            <label for="task-roommate">Assign to:</label>
                            <select id="task-roommate" name="roommate_id">
                                <option value="">Select a roommate</option>
                                </select>
                        </div>

                        <div class="form-group">
                            <label for="task-room-id">Location (Room):</label>
                            <select id="task-room-id" name="room_id" required>
                                <option value="">Select a room</option>
                                </select>
                        </div>

                        <div class="form-group">
                            <label for="task-priority">Priority:</label>
                            <select id="task-priority" name="priority" required>
                                <option value="Low">Low</option>
                                <option value="Medium">Medium</option>
                                <option value="High">High</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="task-due">Due Date:</label>
                            <input type="date" id="task-due" name="due_date" required />
                        </div>

                        <button type="submit" class="btn-submit">Create Task</button>
                    </form>
                </section>
            </section>

            <section id="roommates-section" class="hidden-section">
                <div class="roommates-header">
                    <div class="header-text">
                        <h2>Roommates</h2>
                        <p class="subtitle">Manage your roommates and their information</p>
                    </div>
                    <button id="btn-open-modal" class="btn-black">+ Add Roommate</button>
                </div>
                
                <div id="roommates-grid" class="roommates-grid">
                    </div>

                <div id="roommate-modal" class="modal-overlay hidden">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Add New Roommate</h3>
                            <span id="btn-close-modal" class="close-icon">&times;</span>
                        </div>
                        
                        <form id="add-roommate-form">
                            <div class="form-group">
                                <label>Name <span class="required">*</span></label>
                                <input type="text" id="roommate-name" name="name" placeholder="Enter roommate's name" required />
                            </div>

                            <div class="form-group">
                                <label>Email <span class="required">*</span></label>
                                <input type="email" id="roommate-email" name="email" placeholder="Enter roommate's email" required />
                            </div>

                            <div class="form-group">
                                <label>Role (Optional)</label>
                                <input type="text" id="roommate-role" name="role" placeholder="e.g., Senior, Junior" />
                            </div>

                            <div class="modal-actions">
                                <button type="submit" class="btn-black">Save</button>
                                <button type="button" id="btn-cancel-modal" class="btn-white">Cancel</button>
                            </div>
                        </form>
                    </div>
                </div>
            </section>

            <section id="map-section" class="hidden-section">
                <div class="roommates-header">
                    <div class="header-text">
                        <h2>Interactive Map</h2>
                        <p class="subtitle">Click on a room to view tasks</p>
                    </div>
                </div>

                <div class="map-layout-container">
                    
                    <div id="house-map" class="map-canvas">
                        </div>

                    <div class="map-sidebar-panel">
                        
                        <div id="sidebar-placeholder" class="sidebar-state">
                            <div class="empty-state-icon">üìç</div>
                            <h3>Select a Location</h3>
                            <p>Click on a room bubble to see the tasks assigned to it.</p>
                        </div>

                        <div id="sidebar-details" class="sidebar-state hidden">
                            <div class="sidebar-header">
                                <h3 id="selected-room-name">Kitchen</h3>
                                <button id="btn-close-sidebar" class="btn-icon">&times;</button>
                            </div>
                            
                            <div id="selected-room-tasks" class="sidebar-task-list">
                                </div>
                        </div>

                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p>&copy; 2026 DormMate. All rights reserved.</p>
        </footer>

        <script src="main.js"></script>
    </body>
</html>